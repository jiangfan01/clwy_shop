"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[803],{2803:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",[t("AdcategoryFrom",{attrs:{"is-Edit":!1}})],1)},a=[],i=r(5290),o={components:{AdcategoryFrom:i.Z}},n=o,l=r(1001),u=(0,l.Z)(n,s,a,!1,null,null,null),c=u.exports},5290:function(e,t,r){r.d(t,{Z:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.category,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"广告名称",prop:"name"}},[t("el-input",{model:{value:e.category.name,callback:function(t){e.$set(e.category,"name",t)},expression:"category.name"}})],1),t("el-form-item",{attrs:{label:"广告排序",prop:"sort"}},[t("el-input",{model:{value:e.category.sort,callback:function(t){e.$set(e.category,"sort",e._n(t))},expression:"category.sort"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" "+e._s(e.isEdit?"立即更新":"立即创建")+" ")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},a=[],i=r(4471),o={props:{isEdit:{type:Boolean,default:!1}},data(){return{category:{name:"",sort:""},rules:{name:[{required:!0,message:"请输入广告分类名称",trigger:"blur"},{min:2,max:16,message:"长度在 2 到 16 个字符",trigger:"blur"}],sort:[{required:!0,message:"请选排序",trigger:"change"},{type:"number",message:"排序必须为数字值"}]}}},created(){this.isEdit&&this.init()},methods:{async init(){const e=await i.Z.get(`/admin/ad_categories/${this.$route.params.id}`);this.category=e.data.category},submitForm(e){this.$refs[e].validate((async e=>{let t;e&&(t=this.isEdit?await i.Z.put(`/admin/ad_categories/${this.$route.params.id}`,this.category):await i.Z.post("/admin/ad_categories",this.category),this.$message.success(t.message),this.$router.push({name:"AdList"}))}))},resetForm(e){this.$refs[e].resetFields()}}},n=o,l=r(1001),u=(0,l.Z)(n,s,a,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=803.637ac058.js.map