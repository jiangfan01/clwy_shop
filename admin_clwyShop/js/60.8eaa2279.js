"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[60],{9060:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.setting,rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"活动名称",prop:"title"}},[e("el-input",{model:{value:t.setting.title,callback:function(e){t.$set(t.setting,"title",e)},expression:"setting.title"}})],1),e("el-form-item",{attrs:{label:"站点描述信息",prop:"description"}},[e("el-input",{model:{value:t.setting.description,callback:function(e){t.$set(t.setting,"description",e)},expression:"setting.description"}})],1),e("el-form-item",{attrs:{label:"ICP备案号",prop:"icp"}},[e("el-input",{model:{value:t.setting.icp,callback:function(e){t.$set(t.setting,"icp",e)},expression:"setting.icp"}})],1),e("el-form-item",{attrs:{label:"版权信息\n",prop:"copyright"}},[e("el-input",{model:{value:t.setting.copyright,callback:function(e){t.$set(t.setting,"copyright",e)},expression:"setting.copyright"}})],1),e("el-form-item",{attrs:{label:"站点Logo",prop:"logo"}},[e("el-input",{model:{value:t.setting.logo,callback:function(e){t.$set(t.setting,"logo",e)},expression:"setting.logo"}})],1),e("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[e("el-input",{model:{value:t.setting.address,callback:function(e){t.$set(t.setting,"address",e)},expression:"setting.address"}})],1),e("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[e("el-input",{model:{value:t.setting.tel,callback:function(e){t.$set(t.setting,"tel",e)},expression:"setting.tel"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("立即更新")]),e("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)},r=[],l=s(4471);function n(t){return(0,l.Z)({url:"/admin/settings",method:"get",params:t})}function o(t,e){return(0,l.Z)({url:"/admin/settings",method:"put",data:e})}var a={data(){return{setting:{title:"",description:"",icp:"",copyright:"",logo:"",address:"",tel:""},rules:{title:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}]}}},created(){this.init()},methods:{async init(){const t=await n();this.setting=t.data.setting},submitForm(t){this.$refs[t].validate((async t=>{if(t){const t=await o(this.setting);if(2e4!==t.code)return void this.$message.error(t.message);this.$message.success(t.message),this.$router.push({name:"setting"})}}))},resetForm(t){this.$refs[t].resetFields()}}},u=a,c=s(1001),p=(0,c.Z)(u,i,r,!1,null,null,null),m=p.exports}}]);
//# sourceMappingURL=60.8eaa2279.js.map