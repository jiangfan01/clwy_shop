{"version":3,"file":"js/937.9de9ffe9.js","mappings":"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","sources":["webpack://vue_shop/./src/views/AdCategory/ListView.vue","webpack://vue_shop/./src/api/category.js","webpack://vue_shop/src/views/AdCategory/ListView.vue","webpack://vue_shop/./src/views/AdCategory/ListView.vue?2cbe","webpack://vue_shop/./src/views/AdCategory/ListView.vue?4339"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('router-link',{attrs:{\"to\":{ name: 'create' }}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"新增\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.categories}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"排序\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{on:{\"change\":function($event){return _vm.handleChange(scope.row.id, scope.row.sort)}},model:{value:(scope.row.sort),callback:function ($$v) {_vm.$set(scope.row, \"sort\", _vm._n($$v))},expression:\"scope.row.sort\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.createdAt))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":{ name: 'edit', params: { id: scope.row.id } }}},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\" 编辑 \")])],1),_c('el-popconfirm',{attrs:{\"title\":\"确认删除？\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request\";\n\n// 查询列表\nexport function categoryList(params) {\n  return request({\n    url: \"/admin/ad_categories\",\n    method: \"get\",\n    params,\n  });\n}\n\n// 查询单条\nexport function fetchCategory(id) {\n  return request({\n    url: `/admin/ad_categories/${id}`,\n    method: \"get\",\n  });\n}\n\n// 创建\nexport function createCategory(data) {\n  return request({\n    url: \"/admin/ad_categories\",\n    method: \"post\",\n    data,\n  });\n}\n\n// 修改\nexport function updateCategory(id, data) {\n  return request({\n    url: `/admin/ad_categories/${id}`,\n    method: \"put\",\n    data,\n  });\n}\n\n// 删除\nexport function deleteCategory(id) {\n  return request({\n    url: `/admin/ad_categories/${id}`,\n    method: \"delete\",\n  });\n}\n\n// 排序\nexport function categorySort(id, data) {\n  return request({\n    url: `/admin/ad_categories/${id}/change_sort`,\n    method: \"patch\",\n    data,\n  });\n}\n","<template>\n  <div>\n    <router-link :to=\"{ name: 'create' }\">\n      <el-button type=\"primary\">新增</el-button>\n    </router-link>\n    <el-table :data=\"categories\" style=\"width: 100%\">\n      <el-table-column prop=\"id\" label=\"编号\" width=\"180\"> </el-table-column>\n      <el-table-column prop=\"name\" label=\"名称\" width=\"180\"> </el-table-column>\n      <el-table-column label=\"排序\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-input\n            v-model.number=\"scope.row.sort\"\n            @change=\"handleChange(scope.row.id, scope.row.sort)\"\n          ></el-input>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"创建时间\" width=\"180\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.createdAt | dateFormat }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <router-link :to=\"{ name: 'edit', params: { id: scope.row.id } }\">\n            <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">\n              编辑\n            </el-button>\n          </router-link>\n          <el-popconfirm title=\"确认删除？\" @confirm=\"handleDelete(scope.row)\">\n            <el-button size=\"mini\" type=\"danger\" slot=\"reference\"\n              >删除</el-button\n            >\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\nimport { categoryList, deleteCategory, categorySort } from \"@/api/category\";\n\nexport default {\n  data() {\n    return { categories: [] };\n  },\n  created() {\n    this.init();\n  },\n  methods: {\n    async init() {\n      const res = await categoryList();\n      this.categories = res.data.categories;\n    },\n    handleEdit(row) {\n      console.log(row);\n    },\n    async handleDelete(row) {\n      const res = await deleteCategory(row.id);\n      if (res.code !== 20000) {\n        this.$message.error(res.message);\n        return;\n      }\n      this.$message.success(res.message);\n      this.init();\n    },\n    async handleChange(id, sort) {\n      const res = await categorySort(id, { sort });\n      if (res.code !== 20000) {\n        this.$message.error(res.message);\n      }\n      this.$message.success(res.message);\n      this.init();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListView.vue?vue&type=template&id=f234f4b2&\"\nimport script from \"./ListView.vue?vue&type=script&lang=js&\"\nexport * from \"./ListView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","name","_v","staticStyle","categories","scopedSlots","_u","key","fn","scope","on","$event","handleChange","row","id","sort","model","value","callback","$$v","$set","_n","expression","_s","_f","createdAt","params","handleEdit","handleDelete","slot","staticRenderFns","categoryList","request","url","method","deleteCategory","categorySort","data","created","methods","console","component"],"sourceRoot":""}