{"version":3,"file":"js/89.41c77861.js","mappings":"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","sources":["webpack://vue_shop/./src/views/orders/ListView.vue","webpack://vue_shop/src/views/orders/ListView.vue","webpack://vue_shop/./src/views/orders/ListView.vue?69b7","webpack://vue_shop/./src/views/orders/ListView.vue?a148","webpack://vue_shop/./src/api/orders.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"order-list-box\"},_vm._l((_vm.orders),function(order){return _c('el-card',{key:order.id,staticClass:\"box-card uc-order-item\",class:_vm.orderStyle[order.status - 1]},[_c('div',{staticClass:\"order-detail\"},[_c('div',{staticClass:\"order-summary\"},[_c('div',{staticClass:\"order-status\"},[_vm._v(_vm._s(_vm._f(\"ordersMode\")(order.status)))])]),_c('table',{staticClass:\"order-detail-table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"col-main\"},[_c('p',{staticClass:\"caption-info\"},[_vm._v(\" 时间：\"+_vm._s(order.createdAt)+\" \"),_c('span',{staticClass:\"sep\"},[_vm._v(\"|\")]),_vm._v(\" 联系人：\"+_vm._s(order.address.name)+\"(\"),_c('a',{attrs:{\"href\":'tel:' + order.address.tel}},[_vm._v(_vm._s(order.address.tel))]),_vm._v(\") \"),_c('span',{staticClass:\"sep\"},[_vm._v(\"|\")]),_vm._v(\" 订单号：\"+_vm._s(order.outTradeNo)+\" \")])]),_c('th',{staticClass:\"col-sub\"},[_c('p',{staticClass:\"caption-price\"},[_vm._v(\" 订单金额：\"),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(order.totalPrice))]),_vm._v(\"元 \")])])])]),_c('tbody',[_c('tr',[_c('td',{staticClass:\"order-items\"},[_c('ul',{staticClass:\"goods-list\"},_vm._l((order.products),function(product){return _c('li',{key:product.id},[_c('div',{staticClass:\"figure figure-thumb\"},[_c('a',{attrs:{\"href\":\"#\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"thumb\",attrs:{\"width\":\"80\",\"height\":\"80\",\"src\":product.image}})])]),_c('p',{staticClass:\"name\"},[_c('a',{attrs:{\"href\":\"#\",\"target\":\"_blank\"}},[_vm._v(_vm._s(product.name))])]),_c('p',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(product.price)+\" 元 × \"+_vm._s(product.num)+\" \")])])}),0)]),_c('td',{staticClass:\"order-actions\"},[_c('router-link',{attrs:{\"to\":{ name: 'ordersShow', params: { id: order.id } }}},[_c('el-button',{staticClass:\"orders-button\",attrs:{\"type\":\"success\"}},[_vm._v(\" 订单详情 \")])],1)],1)])])])])])}),1),_c('div',{staticClass:\"block\"},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"完整功能\")]),_c('el-pagination',{attrs:{\":current-page\":_vm.pagination.currentPage,\"page-sizes\":[8, 16, 24, 32],\"page-size\":_vm.pagination.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"order-list-box\">\n      <el-card\n        class=\"box-card uc-order-item\"\n        :class=\"orderStyle[order.status - 1]\"\n        v-for=\"order in orders\"\n        :key=\"order.id\"\n      >\n        <div class=\"order-detail\">\n          <div class=\"order-summary\">\n            <div class=\"order-status\">{{ order.status | ordersMode }}</div>\n          </div>\n          <table class=\"order-detail-table\">\n            <thead>\n              <tr>\n                <th class=\"col-main\">\n                  <p class=\"caption-info\">\n                    时间：{{ order.createdAt }}\n                    <span class=\"sep\">|</span>\n                    联系人：{{ order.address.name }}(<a\n                      :href=\"'tel:' + order.address.tel\"\n                      >{{ order.address.tel }}</a\n                    >)\n                    <span class=\"sep\">|</span>\n                    订单号：{{ order.outTradeNo }}\n                  </p>\n                </th>\n                <th class=\"col-sub\">\n                  <p class=\"caption-price\">\n                    订单金额：<span class=\"num\">{{ order.totalPrice }}</span\n                    >元\n                  </p>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td class=\"order-items\">\n                  <ul class=\"goods-list\">\n                    <li v-for=\"product in order.products\" :key=\"product.id\">\n                      <div class=\"figure figure-thumb\">\n                        <a href=\"#\" target=\"_blank\">\n                          <img\n                            class=\"thumb\"\n                            width=\"80\"\n                            height=\"80\"\n                            :src=\"product.image\"\n                          />\n                        </a>\n                      </div>\n                      <p class=\"name\">\n                        <a href=\"#\" target=\"_blank\">{{ product.name }}</a>\n                      </p>\n                      <p class=\"price\">\n                        {{ product.price }} 元 × {{ product.num }}\n                      </p>\n                    </li>\n                  </ul>\n                </td>\n                <td class=\"order-actions\">\n                  <router-link\n                    :to=\"{ name: 'ordersShow', params: { id: order.id } }\"\n                  >\n                    <el-button class=\"orders-button\" type=\"success\">\n                      订单详情\n                    </el-button>\n                  </router-link>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </el-card>\n    </div>\n    <div class=\"block\">\n      <span class=\"demonstration\">完整功能</span>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        ::current-page=\"pagination.currentPage\"\n        :page-sizes=\"[8, 16, 24, 32]\"\n        :page-size=\"pagination.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"pagination.total\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport { fetchOrdersList } from \"@/api/orders\";\nexport default {\n  data() {\n    return {\n      orders: [],\n      orderStyle: [\n        \"uc-order-item-pay\",\n        \"uc-order-item-shipping\",\n        \"uc-order-item-shipping\",\n        \"uc-order-item-receiving\",\n        \"uc-order-item-finish\",\n      ],\n      searchParams: { currentPage: 1, pageSize: 8 },\n      pagination: {},\n    };\n  },\n  created() {\n    this.init();\n  },\n  methods: {\n    async init() {\n      const res = await fetchOrdersList(this.searchParams);\n      this.orders = res.data.orders;\n      this.pagination = res.data.pagination;\n    },\n    handleSizeChange(val) {\n      this.searchParams.pageSize = val;\n      this.init();\n    },\n    handleCurrentChange(val) {\n      this.searchParams.currentPage = val;\n      this.init();\n    },\n  },\n  filters: {\n    ordersMode(value) {\n      //switch 写法\n      let result;\n      switch (value) {\n        case 1:\n          result = \"待付款\";\n          break;\n        case 2:\n          result = \"待发货\";\n          break;\n        case 3:\n          result = \"配货中\";\n          break;\n        case 4:\n          result = \"待收货\";\n          break;\n        default:\n          result = \"已完成\";\n      }\n      return result;\n\n      // const mode = [\"待付款\", \"待发货\", \"配货中\", \"待收货\", \"已完成\"];\n      // return mode[value - 1];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListView.vue?vue&type=template&id=74016436&\"\nimport script from \"./ListView.vue?vue&type=script&lang=js&\"\nexport * from \"./ListView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\n\n// 查询列表\nexport function fetchOrdersList(params) {\n  return request({\n    url: \"/admin/orders\",\n    method: \"get\",\n    params,\n  });\n}\n\n// 查询单条\nexport function fetchOrders(id) {\n  return request({\n    url: `/admin/orders/${id}`,\n    method: \"get\",\n  });\n}\n\n//修改为配货状态\nexport function pickingOrders(id) {\n  return request({\n    url: `/admin/orders/${id}/picking`,\n    method: \"patch\",\n  });\n}\n\n//修改为发货状态\nexport function shippingOrders(id, data) {\n  return request({\n    url: `/admin/orders/${id}/shipping`,\n    method: \"patch\",\n    data,\n  });\n}\n\n//修改为完成状态\nexport function finishingOrders(id) {\n  return request({\n    url: `/admin/orders/${id}/finishing`,\n    method: \"patch\",\n  });\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","_l","orders","order","key","id","class","orderStyle","status","_v","_s","_f","createdAt","address","name","attrs","tel","outTradeNo","totalPrice","products","product","image","price","num","params","pagination","currentPage","pageSize","total","on","handleSizeChange","handleCurrentChange","staticRenderFns","data","searchParams","created","methods","filters","ordersMode","result","component","fetchOrdersList","request","url","method","fetchOrders","pickingOrders","shippingOrders","finishingOrders"],"sourceRoot":""}